##############################################

Instruction:
  ADD [source, destination]

Description:
  Копирует файлы или директории из контекста сборки в образ Docker. 
  Может автоматически распаковывать файлы с расширением .tar, .tar.gz, .tar.bz2 или .tar.xz.

Features:
  - Поддерживает URL-адреса в качестве источника копирования.
  - Автоматически распаковывает архивы.

Limitations:
  - Не поддерживает копирование файлов с URL-адресов.
  - Неясно, как ADD обрабатывает метаданные файлов.
  
##############################################

Instruction:
  COPY [source, destination]

Description:
  Копирует файлы или директории из контекста сборки в образ Docker.

Features:
  - Простой в использовании.
  - Явно копирует файлы или директории.

Limitations:
  - Не поддерживает URL-адреса в качестве источника копирования.
  - Не автоматически распаковывает архивы.

##############################################

# ADD пример
FROM ubuntu
ADD https://example.com/archive.tar.gz /tmp/
RUN tar -C /usr/local -xzf /tmp/archive.tar.gz

# COPY пример
FROM ubuntu
COPY ./src /app/src
COPY ./static /app/static

##############################################

Instruction:
  ENTRYPOINT ["executable", "param1", "param2"]

Description:
  Задает исполняемый файл, который должен быть запущен при запуске контейнера.

Features:
  - Задает основной исполняемый файл для контейнера.
  - Параметры командной строки могут быть указаны как аргументы к ENTRYPOINT.

Limitations:
  - Аргументы к ENTRYPOINT могут быть перезаписаны при запуске контейнера с помощью ключа командной строки --entrypoint.

##############################################

Instruction:
  CMD ["executable", "param1", "param2"]
  CMD command param1 param2

Description:
  Задает команду по умолчанию, которая будет выполняться при запуске контейнера.

Features:
  - Позволяет задать команду по умолчанию, которая будет выполняться при запуске контейнера.
  - Позволяет переопределить команду по умолчанию при запуске контейнера с помощью ключа командной строки --cmd.

Limitations:
  - В Dockerfile может быть только одна инструкция CMD.
  - CMD не заменяет ENTRYPOINT, а дополняет его.
  
##############################################

# ENTRYPOINT пример
FROM ubuntu
ENTRYPOINT ["ping", "-c", "3"]
CMD ["google.com"]

# CMD пример
FROM ubuntu
CMD ["ping", "-c", "3", "google.com"]

##############################################

Instruction:
  STOPSIGNAL signal

Description:
  Определяет сигнал, который будет отправлен контейнеру при остановке.

Features:
  - Позволяет контролировать процесс остановки контейнера.
  - По умолчанию используется сигнал SIGTERM.

Limitations:
  - Сигнал должен быть числом или строкой (например, 9, SIGKILL или KILL).

##############################################

Instruction:
  HEALTHCHECK [OPTIONS] CMD command

Description:
  Определяет команду, которая будет использоваться для проверки состояния контейнера.

Features:
  - Позволяет автоматически проверять состояние контейнера.
  - Возвращает статус 0 (успех) или 1 (ошибка), в зависимости от результата выполнения команды.
  - Поддерживает несколько опций, таких как --interval, --timeout и --retries.

Limitations:
  - Команда должна возвращать статус 0 при успешном выполнении и 1 в случае ошибки.

##############################################

# Пример использования STOPSIGNAL
FROM ubuntu
STOPSIGNAL SIGTERM
CMD ["nginx"]

# Пример использования HEALTHCHECK
FROM nginx
HEALTHCHECK --interval=5m --timeout=3s \
  CMD curl -f http://localhost/ || exit 1
  
##############################################


Instruction:
  FROM image [AS name]

Description:
  Устанавливает базовый образ для создания нового образа.

Features:
  - Используется для создания цепочки образов.
  - Может быть указано имя для образа, который будет создан на основе базового образа.

Limitations:
  - Имя базового образа обязательно.

##############################################

Instruction:
  ENV key value

Description:
  Устанавливает значение переменной среды в контейнере.

Features:
  - Позволяет устанавливать переменные среды в контейнере.

Limitations:
  - Не рекомендуется хранить важные данные, такие как пароли, в переменных среды.

##############################################

Instruction:
  LABEL key value

Description:
  Добавляет метаданные к образу.

Features:
  - Позволяет добавлять дополнительную информацию о версии, авторе, лицензии и других метаданных к образу.

Limitations:
  - Нет ограничений.

##############################################

Instruction:
  EXPOSE port [port/port-range]

Description:
  Указывает, какой порт или порты должны быть доступны во время выполнения контейнера.

Features:
  - Позволяет управлять доступностью портов в контейнере.

Limitations:
  - Не открывает порты на хост-системе.

##############################################

Instruction:
  VOLUME path

Description:
  Создает точку монтирования для доступа к файловой системе хоста.

Features:
  - Позволяет обмениваться данными между контейнером и хост-системой.
  - Может использоваться для создания постоянных хранилищ для контейнеров.

Limitations:
  - Не позволяет монтировать файлы внутри образа.

##############################################

Instruction:
  USER user

Description:
  Устанавливает имя пользователя или UID, под которым будут запускаться инструкции в Dockerfile и основной процесс в контейнере.

Features:
  - Позволяет запускать процессы от пользователя с меньшими привилегиями.

Limitations:
  - Нет ограничений.

##############################################

Instruction:
  WORKDIR path

Description:
  Устанавливает рабочую дирректорию
  
##############################################

Instruction:
  ARG <name>[=<default value>]

Description:
  Определяет переменную, которая может использоваться в процессе сборки образа.

Features:
  - Позволяет передавать аргументы в Dockerfile при сборке образа.
  - Позволяет использовать переменные в инструкциях Dockerfile.

Limitations:
  - Аргументы по умолчанию могут быть заданы только в Dockerfile.

Example:
  ARG VERSION=latest

##############################################

Instruction:
  ONBUILD <INSTRUCTION>

Description:
  Устанавливает инструкцию, которая будет выполнена в будущем при использовании текущего образа как базового для другого образа.

Features:
  - Позволяет настроить образ для последующего использования в других образах.

Limitations:
  - INSTRUCTION может быть только одна в инструкции ONBUILD.

Example:
  ONBUILD ADD . /app/src
  ONBUILD RUN /usr/local/bin/python-build --dir /app/src

##############################################

Instruction:
  VOLUME <path>

Description:
  Создает точку монтирования, которая позволяет контейнеру получать доступ к файлам на хосте.

Features:
  - Позволяет контейнеру получать доступ к файлам на хосте.
  - Позволяет разделять данные между несколькими контейнерами.

Limitations:
  - Каталог должен существовать на хосте.

Example:
  VOLUME /data

##############################################

Instruction:
  LABEL <key>=<value> <key>=<value> ...

Description:
  Добавляет метаданные к образу.

Features:
  - Позволяет добавлять метаданные, такие как название, версия, автор и т. д.
  - Позволяет использовать метаданные для поиска образов.

Limitations:
  - Метаданные могут содержать только ASCII-символы.

Example:
  LABEL maintainer="John Doe <john.doe@example.com>"

##############################################

Instruction:
  SHELL ["executable", "parameters"]

Description:
  Устанавливает интерпретатор команд в Dockerfile.

Features:
  - Позволяет использовать другой интерпретатор команд, кроме оболочки по умолчанию (sh).

Limitations:
  - Интерпретатор должен быть установлен внутри образа.

Example:
  SHELL ["/bin/bash", "-c"]




